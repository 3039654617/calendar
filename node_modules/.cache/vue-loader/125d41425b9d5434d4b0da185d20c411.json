{"remainingRequest":"C:\\Users\\86156\\AppData\\Roaming\\npm\\node_modules\\@vue\\cli-service-global\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\86156\\Desktop\\练习\\component.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\86156\\Desktop\\练习\\component.vue","mtime":1614514581655},{"path":"C:\\Users\\86156\\AppData\\Roaming\\npm\\node_modules\\@vue\\cli-service-global\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\86156\\AppData\\Roaming\\npm\\node_modules\\@vue\\cli-service-global\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\86156\\AppData\\Roaming\\npm\\node_modules\\@vue\\cli-service-global\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQoNCmV4cG9ydCBkZWZhdWx0IHsNCiAgICBkaXJlY3RpdmVzOiB7DQogICAgICAgICdjbGljayc6IHsNCiAgICAgICAgICAgIGJpbmQoZWwsIGJpbmRpbmcsIHZub2RlKSB7DQogICAgICAgICAgICAgICAgY29uc3Qgdm0gPSB2bm9kZS5jb250ZXh0Ow0KICAgICAgICAgICAgICAgIGRvY3VtZW50Lm9uY2xpY2sgPSBmdW5jdGlvbihlKXsNCiAgICAgICAgICAgICAgICAgICAgY29uc3QgY29udGFpbiA9IGVsLmNvbnRhaW5zKGUudGFyZ2V0KTsNCiAgICAgICAgICAgICAgICAgICAgdm0uc2hvd0RhdGUoY29udGFpbik7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQogICAgfSwNCiAgICBwcm9wczogew0KICAgICAgICBkYXRlOiB7DQogICAgICAgICAgICB0eXBlOiBEYXRlLA0KICAgICAgICAgICAgZGVmYXVsdDogKCkgPT4gbmV3IERhdGUoKQ0KICAgICAgICB9DQogICAgfSwNCiAgICBjcmVhdGVkICgpew0KICAgICAgICB0aGlzLmdldFNob3dEYXRlKCk7DQogICAgfSwNCiAgICBjb21wdXRlZDogew0KICAgICAgICBjaG9vc2VEYXRlKCl7DQogICAgICAgICAgICBjb25zdCB7eWVhciwgbW9udGgsIGRheX0gPSB0aGlzLmdldFllYXJNb250aERheSh0aGlzLmRhdGUpOw0KDQogICAgICAgICAgICByZXR1cm4gYCR7eWVhcn0tJHsrbW9udGgrMX0tJHtkYXl9YA0KICAgICAgICB9LA0KICAgICAgICBzaG93RGF5KCkgew0KICAgICAgICAgICAgbGV0IGFyckRheSA9IFtdOw0KICAgICAgICAgICAgY29uc3Qge3llYXIsIG1vbnRofSA9IHRoaXMuc2hvd1RvZGF5Ow0KICAgICAgICAgICAgY29uc3Qgc3RhcnQgPSArbmV3IERhdGUoeWVhciwgK21vbnRoLCAxKTsNCiAgICAgICAgICAgIGNvbnN0IHdlZWsgPSBuZXcgRGF0ZShzdGFydCkuZ2V0RGF5KCk7DQogICAgICAgICAgICBmb3IobGV0IGkgPSAwOyBpIDwgNDI7IGkrKyl7DQogICAgICAgICAgICAgICAgY29uc3QgbnVtID0gaSAtIHdlZWs7DQogICAgICAgICAgICAgICAgYXJyRGF5LnB1c2gobmV3IERhdGUoc3RhcnQgKyBudW0qMjQqNjAqNjAqMTAwMCkpOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgcmV0dXJuIGFyckRheTsNCiAgICAgICAgfQ0KICAgIH0sDQogICAgZGF0YSAoKXsNCiAgICAgICAgcmV0dXJuIHsNCiAgICAgICAgICAgIHNob3c6IGZhbHNlLA0KICAgICAgICAgICAgc2hvd1RvZGF5OiB7DQogICAgICAgICAgICAgICAgeWVhcjogMCwNCiAgICAgICAgICAgICAgICBtb250aDogMCwNCiAgICAgICAgICAgICAgICBkYXk6IDAsDQogICAgICAgICAgICB9DQogICAgICAgIH0NCiAgICB9LA0KICAgIG1ldGhvZHM6IHsNCiAgICAgICAgZ2V0WWVhck1vbnRoRGF5KGRhdGUpew0KICAgICAgICAgICAgbGV0IHllYXIgPSBkYXRlLmdldEZ1bGxZZWFyKCk7DQogICAgICAgICAgICBsZXQgbW9udGggPSBkYXRlLmdldE1vbnRoKCk7DQogICAgICAgICAgICBsZXQgZGF5ID0gZGF0ZS5nZXREYXRlKCk7DQogICAgICAgICAgICBsZXQgc2Vjb25kID0gZGF0ZS5nZXRTZWNvbmRzKCk7DQoNCiAgICAgICAgICAgIHJldHVybiB7DQogICAgICAgICAgICAgICAgeWVhciwNCiAgICAgICAgICAgICAgICBtb250aCwNCiAgICAgICAgICAgICAgICBkYXksDQogICAgICAgICAgICAgICAgc2Vjb25kDQogICAgICAgICAgICB9DQogICAgICAgIH0sDQogICAgICAgIHNob3dEYXRlKGJvb2xlYW4pIHsNCiAgICAgICAgICAgIHRoaXMuc2hvdyA9IGJvb2xlYW47DQogICAgICAgIH0sDQogICAgICAgIGdldFNob3dEYXRlKCkgew0KICAgICAgICAgICAgY29uc3Qge3llYXIsIG1vbnRoLCBkYXl9ID0gdGhpcy5nZXRZZWFyTW9udGhEYXkodGhpcy5kYXRlKTsNCiAgICAgICAgICAgIHRoaXMuc2hvd1RvZGF5ID0gew0KICAgICAgICAgICAgICAgIHllYXIsDQogICAgICAgICAgICAgICAgbW9udGgsDQogICAgICAgICAgICAgICAgZGF5DQogICAgICAgICAgICB9DQogICAgICAgIH0sDQogICAgICAgIGlzQ3VyKGRhdGUpIHsNCiAgICAgICAgICAgIGNvbnN0IGNob29zZURhdGUgPSBuZXcgRGF0ZSh0aGlzLmNob29zZURhdGUpDQogICAgICAgICAgICBjb25zdCB7eWVhciwgbW9udGgsIGRheX0gPSB0aGlzLmdldFllYXJNb250aERheShkYXRlKTsNCiAgICAgICAgICAgIGNvbnN0IHt5ZWFyOiBjdXJZZWFyLCBtb250aDogY3VyTW9udGgsIGRheTogY3VyRGF5fSA9IHRoaXMuc2hvd1RvZGF5Ow0KICAgICAgICAgICAgY29uc3Qge3llYXI6Y2hvb3NlWWVhciwgbW9udGg6IGNob29zZU1vbnRoLCBkYXk6IGNob29zZURheX0gPSB0aGlzLmdldFllYXJNb250aERheShjaG9vc2VEYXRlKTsNCg0KICAgICAgICAgICAgcmV0dXJuIHsNCiAgICAgICAgICAgICAgICBtb250aDogeWVhciA9PT0gY3VyWWVhciAmJiBtb250aCA9PT0gY3VyTW9udGgsDQogICAgICAgICAgICAgICAgZGF5OiB5ZWFyID09PSBjdXJZZWFyICYmIG1vbnRoID09PSBjdXJNb250aCAmJiBkYXkgPT09IGN1ckRheSwNCiAgICAgICAgICAgICAgICBzZWxlY3Q6IHllYXIgPT09IGNob29zZVllYXIgJiYgbW9udGggPT09IGNob29zZU1vbnRoICYmIGRheSA9PT0gY2hvb3NlRGF5LA0KICAgICAgICAgICAgfQ0KICAgICAgICB9LA0KICAgICAgICBvbkNob29zZURhdGUoZGF0ZSkgew0KICAgICAgICAgICAgdGhpcy4kZW1pdCgnY2hvb3NlRGF0ZScsIGRhdGUpDQogICAgICAgIH0sDQogICAgICAgIGNob29zZU1vbnRoKGZsYWcpIHsNCiAgICAgICAgICAgIGxldCB7eWVhciwgbW9udGh9ID0gdGhpcy5zaG93VG9kYXk7DQogICAgICAgICAgICBpZihmbGFnID09PSAncHJldicpew0KICAgICAgICAgICAgICAgIGlmKG1vbnRoID09PSAwKXsNCiAgICAgICAgICAgICAgICAgICAgbW9udGggPSAxMg0KICAgICAgICAgICAgICAgICAgICAtLXllYXINCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgbW9udGggPSBtb250aCAtIDE7DQogICAgICAgICAgICAgICAgdGhpcy5zaG93VG9kYXkubW9udGggPSBtb250aDsNCiAgICAgICAgICAgICAgICB0aGlzLnNob3dUb2RheS55ZWFyID0geWVhcjsNCiAgICAgICAgICAgIH1lbHNlIGlmKGZsYWcgPT09ICduZXh0Jyl7DQogICAgICAgICAgICAgICAgaWYobW9udGggPT09IDExKXsNCiAgICAgICAgICAgICAgICAgICAgbW9udGggPSAtMQ0KICAgICAgICAgICAgICAgICAgICArK3llYXINCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgbW9udGggPSBtb250aCArIDE7DQogICAgICAgICAgICAgICAgdGhpcy5zaG93VG9kYXkubW9udGggPSBtb250aDsNCiAgICAgICAgICAgICAgICB0aGlzLnNob3dUb2RheS55ZWFyID0geWVhcjsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfSwNCiAgICAgICAgY2hvb3NlWWVhcihmbGFnKSB7DQogICAgICAgICAgICBsZXQge3llYXJ9ID0gdGhpcy5zaG93VG9kYXk7DQogICAgICAgICAgICBpZihmbGFnID09PSAncHJldicpew0KICAgICAgICAgICAgICAgIC0teWVhcg0KICAgICAgICAgICAgfWVsc2V7DQogICAgICAgICAgICAgICAgKyt5ZWFyDQogICAgICAgICAgICB9DQogICAgICAgICAgICB0aGlzLnNob3dUb2RheS55ZWFyID0geWVhcjsNCiAgICAgICAgfQ0KICAgIH0NCn0NCg=="},{"version":3,"sources":["component.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"component.vue","sourceRoot":".","sourcesContent":["<template>\r\n    <div class=\"allElement\" v-click>\r\n        <div class=\"header\">\r\n            <span class=\"iconfont icon-calendar\"/>\r\n            <input type=\"text\" :value='chooseDate'>\r\n        </div>\r\n        <div class=\"body\" v-if='show'>\r\n            <div class=\"arrow\"/>\r\n            <div class=\"cHeader\">\r\n                <span class=\"iconfont icon-left-two-arrow\" @click=\"chooseYear('prev')\"/>\r\n                <span class=\"iconfont icon-left-arrow\" @click=\"chooseMonth('prev')\"/>\r\n                <span>{{ showToday.year }}年{{ +showToday.month+1}}月</span>\r\n                <span class=\"iconfont icon-right-arrow\" @click=\"chooseMonth('next')\"/>\r\n                <span class=\"iconfont icon-right-two-arrow\" @click=\"chooseYear('next')\"/>\r\n            </div>\r\n            <div class=\"cBody\">\r\n                <div class=\"weeks\">\r\n                    <div\r\n                        v-for=\"week in ['日', '一', '二' , '三', '四', '五', '六']\"\r\n                        :key=\"week\"\r\n                    >\r\n                        {{ week }}\r\n                    </div>\r\n                </div>\r\n                <div class=\"showDay\">\r\n                    <div\r\n                        v-for=\"day in showDay\"\r\n                        :key=\"day.getTime()\"\r\n                        :class=\"{\r\n                            'circle': isCur(day).select, \r\n                            'today': isCur(day).day,\r\n                            'other-month': !isCur(day).month,\r\n                        }\"\r\n                        @click=\"onChooseDate(day)\"\r\n                    >\r\n                        {{ day.getDate() }}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n\r\nexport default {\r\n    directives: {\r\n        'click': {\r\n            bind(el, binding, vnode) {\r\n                const vm = vnode.context;\r\n                document.onclick = function(e){\r\n                    const contain = el.contains(e.target);\r\n                    vm.showDate(contain);\r\n                }\r\n            }\r\n        }\r\n    },\r\n    props: {\r\n        date: {\r\n            type: Date,\r\n            default: () => new Date()\r\n        }\r\n    },\r\n    created (){\r\n        this.getShowDate();\r\n    },\r\n    computed: {\r\n        chooseDate(){\r\n            const {year, month, day} = this.getYearMonthDay(this.date);\r\n\r\n            return `${year}-${+month+1}-${day}`\r\n        },\r\n        showDay() {\r\n            let arrDay = [];\r\n            const {year, month} = this.showToday;\r\n            const start = +new Date(year, +month, 1);\r\n            const week = new Date(start).getDay();\r\n            for(let i = 0; i < 42; i++){\r\n                const num = i - week;\r\n                arrDay.push(new Date(start + num*24*60*60*1000));\r\n            }\r\n            return arrDay;\r\n        }\r\n    },\r\n    data (){\r\n        return {\r\n            show: false,\r\n            showToday: {\r\n                year: 0,\r\n                month: 0,\r\n                day: 0,\r\n            }\r\n        }\r\n    },\r\n    methods: {\r\n        getYearMonthDay(date){\r\n            let year = date.getFullYear();\r\n            let month = date.getMonth();\r\n            let day = date.getDate();\r\n            let second = date.getSeconds();\r\n\r\n            return {\r\n                year,\r\n                month,\r\n                day,\r\n                second\r\n            }\r\n        },\r\n        showDate(boolean) {\r\n            this.show = boolean;\r\n        },\r\n        getShowDate() {\r\n            const {year, month, day} = this.getYearMonthDay(this.date);\r\n            this.showToday = {\r\n                year,\r\n                month,\r\n                day\r\n            }\r\n        },\r\n        isCur(date) {\r\n            const chooseDate = new Date(this.chooseDate)\r\n            const {year, month, day} = this.getYearMonthDay(date);\r\n            const {year: curYear, month: curMonth, day: curDay} = this.showToday;\r\n            const {year:chooseYear, month: chooseMonth, day: chooseDay} = this.getYearMonthDay(chooseDate);\r\n\r\n            return {\r\n                month: year === curYear && month === curMonth,\r\n                day: year === curYear && month === curMonth && day === curDay,\r\n                select: year === chooseYear && month === chooseMonth && day === chooseDay,\r\n            }\r\n        },\r\n        onChooseDate(date) {\r\n            this.$emit('chooseDate', date)\r\n        },\r\n        chooseMonth(flag) {\r\n            let {year, month} = this.showToday;\r\n            if(flag === 'prev'){\r\n                if(month === 0){\r\n                    month = 12\r\n                    --year\r\n                }\r\n                month = month - 1;\r\n                this.showToday.month = month;\r\n                this.showToday.year = year;\r\n            }else if(flag === 'next'){\r\n                if(month === 11){\r\n                    month = -1\r\n                    ++year\r\n                }\r\n                month = month + 1;\r\n                this.showToday.month = month;\r\n                this.showToday.year = year;\r\n            }\r\n        },\r\n        chooseYear(flag) {\r\n            let {year} = this.showToday;\r\n            if(flag === 'prev'){\r\n                --year\r\n            }else{\r\n                ++year\r\n            }\r\n            this.showToday.year = year;\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n@import './assets/font.css';\r\n\r\n.allElement{\r\n    display: inline-block;\r\n    position: relative;\r\n}\r\n.header{\r\n    position: relative;\r\n}\r\n.header span{\r\n    position: absolute;\r\n    margin-top: 4px;\r\n    margin-left: 8px;\r\n}\r\n.header input{\r\n    border-radius: 3px;\r\n    height: 20px;\r\n    line-height: 20px;\r\n    padding-left: 30px;\r\n}\r\n.body{\r\n    position: absolute;\r\n    margin-top: 5px;\r\n    width: 250px;\r\n    border-radius: 3px;\r\n    border: 1px solid gray;\r\n    box-shadow: 0 2px 12px 0 gray;\r\n}\r\n.body .arrow{\r\n    position: absolute;\r\n    left: 20px;\r\n    top: -12px;\r\n    width: 0;\r\n    height: 0;\r\n    border: 6px solid transparent;\r\n    border-bottom: 6px solid gray;\r\n}\r\n.body .arrow::after{\r\n    position: absolute;\r\n    left: -6px;\r\n    top: -5px;\r\n    width: 0;\r\n    height: 0;\r\n    content: '';\r\n    border: 6px solid transparent;\r\n    border-bottom: 6px solid white;\r\n}\r\n.body .cHeader{\r\n    display: flex;\r\n    justify-content: space-around;\r\n    align-items: center;\r\n    padding: 5px 0;\r\n}\r\n.body .cHeader .iconfont{\r\n    cursor: pointer;\r\n}\r\n.cBody{\r\n}\r\n.cBody .weeks{\r\n    user-select: none;\r\n    margin: 0 5px;\r\n    display: flex;\r\n    justify-content: space-around;\r\n    border-bottom: 1px solid rgba(6, 6, 6, .1);\r\n    padding-bottom: 5px;\r\n}\r\n.cBody .showDay{\r\n    padding-top: 5px;\r\n    user-select: none;\r\n    display: flex;\r\n    flex-wrap: wrap;\r\n    white-space: normal;\r\n    color: #606166;\r\n    width: 240px;\r\n    margin: 0 auto;\r\n}\r\n.cBody .showDay div{\r\n    width: 30px;\r\n    height: 30px;\r\n    text-align: center;\r\n    line-height: 30px;\r\n    margin: 2px 2px;\r\n    cursor: pointer;\r\n}\r\n.cBody .showDay div.circle{\r\n    width: 30px;\r\n    height: 30px;\r\n    background-color: rosybrown;\r\n    border-radius: 30px;\r\n}\r\n.cBody .showDay div.other-month{\r\n    color: rgba(6, 6, 6, .3);\r\n}\r\n.cBody .showDay div:hover{\r\n    color: skyblue;\r\n}\r\n.cBody .showDay div.today{\r\n    color: rgb(216, 29, 154);\r\n}\r\n</style>"]}]}